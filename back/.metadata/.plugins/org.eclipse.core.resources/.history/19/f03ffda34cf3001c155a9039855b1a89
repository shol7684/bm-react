package com.baemin.common;

import java.util.Random;

import javax.servlet.http.Cookie;

import org.springframework.web.context.request.RequestContextHolder;
import org.springframework.web.context.request.ServletRequestAttributes;

public class CreateGuestId {
	
	private static final String COOKIE_ID = "gid";
	
	
	public static String getGuestId() {
		
		ServletRequestAttributes attr = (ServletRequestAttributes)RequestContextHolder.currentRequestAttributes();
		
		Cookie[] cookies = attr.getRequest().getCookies();
		
		for(int i=0;i<cookies.length;i++) {
			if(cookies[i].getName().equals(COOKIE_ID)) {
				return cookies[i].getValue();
			}
		}
		
		
		return createId();
	}
	
	private static String createId() {
//		'1655768454469_6r5zirl0'
//		13 _ 8
		
		System.out.println(System.currentTimeMillis());
		
		Random random = new Random();
		
		System.out.println((char) (Math.random() * 10));		
		System.out.println((char) 48);
		
		
		
		
		return null;
	}
	
	
	

}
