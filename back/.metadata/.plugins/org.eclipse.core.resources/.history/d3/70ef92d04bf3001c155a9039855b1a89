package com.baemin.common;

import javax.servlet.http.Cookie;

import org.springframework.web.context.request.RequestContextHolder;
import org.springframework.web.context.request.ServletRequestAttributes;

public class CreateGuestId {
	
	private static final String COOKIE_ID = "G-ID";
	
	
	public static String getGuestId() {
		
		ServletRequestAttributes attr = (ServletRequestAttributes)RequestContextHolder.currentRequestAttributes();
		
		Cookie[] cookies = attr.getRequest().getCookies();
		
		for(int i=0;i<cookies.length;i++) {
			System.out.println(cookies[i].getName());
			System.out.println(cookies[i].getValue());
			System.out.println();
			
			if(cookies[i].getName().equals(COOKIE_ID)) {
				return cookies[i].getValue();
			}
		}
		
		
		
		return null;
	}
	
	
	

}
